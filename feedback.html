<!-- Here we have to accept the feedback and then check whether we have to finish the task -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Emotion Experiment Feedback Page</title>
    <script src="https://code.jquery.com/jquery-1.12.2.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.2/css/bulma.min.css"/>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
    <script src="airtable.browser.js"></script>
    <style>
        .content {
            margin-top : 40px;
        }
        .slidecontainer {
  width: 100%;
}

.slider {
  -webkit-appearance: none;
  width: 100%;
  height: 15px;
  border-radius: 5px;
  background: #d3d3d3;
  outline: none;
  opacity: 0.7;
  -webkit-transition: .2s;
  transition: opacity .2s;
}

.slider:hover {
  opacity: 1;
}

.slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 25px;
  height: 25px;
  border-radius: 50%;
  background: #4CAF50;
  cursor: pointer;
}

.slider::-moz-range-thumb {
  width: 25px;
  height: 25px;
  border-radius: 50%;
  background: #4CAF50;
  cursor: pointer;
}

</style>
 <style>
        .next-button {
      text-align: right;
      margin-top: 30px;
    }
    .fit-screen{
        max-width: 100%;
        max-height: 100%;
        width: 100%;
        height: 100%;
    }
    </style>
</head>
<body>
    <!-- Navbar start  -->
    <nav class="navbar" role="navigation" aria-label="main navigation">
            <div class="navbar-brand">
                    <a class="title is-2 navbar-item" href="#">
                        Emotion Experiment
                      </a>
            </div>
    </nav>
    <!-- Navbar end  -->
    <section class="hero is-primary">
            <div class="hero-body">
              <div class="container">
                <h1 class="title">
                    Feedback
                </h1>
                <h2 class="subtitle">
                    
                </h2>
              </div>
            </div>
          </section>
    <div class="container">
            <div class="field content">
                <div class="columns">
                    <h1 class="title"> Arousal :  <span class="tag is-dark is-large" id="arousal"></span> </h1> 
                </div>
        
        <div class="columns">
            <div class="column is-10 is-offset-1">
            <img src="Images/arousal.png" class="fit-screen" >
        </div>
        </div>
        <div class="columns is-centered ">
            <div class="column is-2">
                Inactive
            </div>
            <!-- <div class="column is-2 is-off has-text-centeredset-3">
                Neutral
            </div> -->
            <div class="column is-2 is-offset-8 has-text-right">
                Active
            </div>
        </div>
        <div class="columns ">
            
                <div class="slidecontainer">
                    <input type="range" min="0" max="10" value="5" class="slider" step="0.01" id="arousalSlider">

                    <!-- <p>Value: <span id="demo1"></span></p> -->
                </div>
        </div>
            </div>
            <div class="field content">
                    <div class="columns">
                        <h1 class="title"> Valence :  <span class="tag is-dark is-large" id="valence"></span></h1> 
                    </div>
            <div class="columns">
            <div class="column is-10 is-offset-1">
            <img src="Images/valence.png" class="fit-screen" >
        </div>
            </div>    
            <div class="columns is-centered ">
                <div class="column is-2">
                    Unpleasant
                </div>
                <div class="column is-2 is-offset-3 has-text-centered">
                    Neutral
                </div>
                <div class="column is-2 is-offset-3 has-text-right">
                    Pleasant
                </div>
            </div>
            <div class="columns ">
                    <div class="slidecontainer">
                        <input type="range" min="0" max="10" value="5" class="slider" step="0.01" id="valenceSlider">
                    </div>
            </div>
                </div>
                <div class="field content">
                        <div class="columns">
                            <h1 class="title"> Dominance :  <span class="tag is-dark is-large" id="dominance"></span> </h1> 
                        </div>
                        <div class="columns">
                                <div class="column is-10 is-offset-1">
                                <img src="Images/dominance.png" class="fit-screen" >
                            </div>
                                </div>  
                <div class="columns is-centered ">
                    <div class="column is-2">
                        Submissive
                    </div>
                    <!-- <div class="column is-2 is-off has-text-centeredset-3">
                        Neutral
                    </div> -->
                    <div class="column is-2 is-offset-8 has-text-right">
                        Dominant
                    </div>
                </div>
                <div class="columns ">
                    
                        <div class="slidecontainer">
                            <input type="range" min="0" max="10" value="5" class="slider" step="0.01" id="dominanceSlider">
        
                            
                        </div>
                </div>
                    </div>
                    <div class="field content">
                            <div class="columns">
                                <h1 class="title"> Liking :  <span class="tag is-dark is-large" id="liking"></span> </h1> 
                            </div>
            
                    <div class="columns is-centered ">
                        <div class="column is-2">
                                <i class="fas fa-thumbs-down fa-flip-horizontal" style="font-size : 50px;"></i>  Least 
                        </div>
                        <div class="column is-2 is-offset-3 has-text-centered">
                            Fair
                        </div>
                        <div class="column is-2 is-offset-3 has-text-right">
                            Much <i class="fas fa-thumbs-up" style="font-size : 50px;"></i>
                        </div>
                    </div>
                    <div class="columns ">
                        
                            <div class="slidecontainer">
                                <input type="range" min="0" max="5" value="2.5" class="slider" step="0.01" id="likingSlider">
            
                                
                            </div>
                    </div>
                        </div>
                        <div class="field content">
                                <div class="columns">
                                    <h1 class="title"> Relevance :  <span class="tag is-dark is-large" id="relevance"></span> </h1> 
                                </div>
                                <div class="columns">
                                        <div class="column is-10 is-offset-1">
                                        <img src="Images/recalling.png" class="fit-screen" >
                                    </div>
                                        </div>  
                        <div class="columns is-centered ">
                            <div class="column is-2">
                                Not related
                            </div>
                            <!-- <div class="column is-2 is-off has-text-centeredset-3">
                                Neutral
                            </div> -->
                            <div class="column is-2 is-offset-8 has-text-right">
                                Completely related
                            </div>
                        </div>
                        <div class="columns ">
                            
                                <div class="slidecontainer">
                                    <input type="range" min="0" max="5" value="2.5" class="slider" step="0.01" id="relevanceSlider">
                
                                    
                                </div>
                        </div>
                            </div>
                            <div class="field content">
                                    <div class="columns">
                                        <h1 class="title"> Familiarity :  <span class="tag is-dark is-large" id="familiarity"></span> </h1> 
                                    </div>
                    
                            <div class="columns is-centered ">
                                <div class="column is-2">
                                    Least
                                </div>
                                <div class="column is-2 is-offset-3 has-text-centered">
                                    Fair
                                </div>
                                <div class="column is-2 is-offset-3 has-text-right">
                                    Much
                                </div>
                            </div>
                            <div class="columns ">
                                
                                    <div class="slidecontainer">
                                        <input type="range" min="0" max="5" value="2.5" class="slider" step="0.01" id="familiaritySlider">
                                    </div>
                            </div>
                                </div>
                            
                                <div class="field content">
                                    <div class="columns">
                                        <h1 class="title">Select one emotion from the list : </h1> 
                                    </div>
                                    <div class="columns">
                                        <div class=" column is-6">
                                                        <div class="select is-large">
                                                          <select id="emotions">
                                                            <option>'Miserable: wretchedly unhappy or uncomfortable'</option>
                                                            <option>"Melancholic: Feeling or expressing pensive sadness"</option>
                                                            <option>'Sad: Feeling or showing sorrow, unhappy'</option>
                                                            <option>'Depressed: in a state of unhappiness or despondency'</option>
                                                            <option>'Dissatisfied: Not content or happy with something.'</option>
                                                            <option>'Despondent: In low spirits from loss of hope or courage.'</option>
                                                            <option>'Taken Aback: Shock or surprise someone.'</option>
                                                            <option>No Emotion From List</option>
                                                          </select>
                                                        </div>
                                        </div>

                                            
                                    </div>
                                    <div id="emotionType" class="columns">
                                        <div class="column is-6">
                                                <div class="field">
                                                        <div class="control">
                                                          <input id="emotionTypeText" class="input is-large" type="text" placeholder="Type your emotion">
                                                        </div>
                                             </div>
                                        </div>

                                    </div>
                                </div>

        <!-- <div class="columns">
                <div class="slidecontainer">
                        <input type="range" min="0" max="10" value="50" class="slider" id="myRange2">
                        <p>Value: <span id="demo2"></span></p>
                      </div>
        </div>
        <div class="columns">
                <div class="slidecontainer">
                        <input type="range" min="0" max="100" value="50" class="svar base = new Airtable({apiKey: 'keyyA5m3wRAbR8RxO'}).base('appSnvwwr47HSeFIR');lider" id="myRange3">
                        <p>Value: <span id="demo3"></span></p>
                      </div>
        </div> -->
        <div class="columns">
        
            <div class="column is-4 is-offset-8 next-button">
                            <button id="finish" class="button is-large is-success" disabled>Finish </button>&nbsp&nbsp&nbsp
                            <button id="submit" class="button is-large is-info">Next</button>
                    
            </div>
        </div>
    </div>
</body>
<script>
var Airtable = require('airtable');

$("#emotionType").hide();
// Get a base ID for an instance of art gallery example
var base = new Airtable({apiKey: 'keyyA5m3wRAbR8RxO'}).base('appSnvwwr47HSeFIR');
var videoNo = localStorage.getItem("videoNo");
var count = parseInt(localStorage.getItem("count"));
console.log(count); 
$('.subtitle').append('Provide the feedback of video '+ count);
var videoName = new Map();
videoName.set("1","Anacondas_The_Hunt_for_the_Blood_Orchid_clip");
videoName.set("2","Anger_LBS");
videoName.set("3","Arshad Warsi Bollywood Comedy [360p]");
videoName.set("4","Best_Horror_Kills_Ghost_Ship_Opening_scene");
videoName.set("5","Brothers_9_10_Movie_CLIP_Sam_Loses_It_2009_HD");
videoName.set("6","Catwoman_Basketball_Scene");
videoName.set("7","disgust");
videoName.set("8","excitingMohabbat_1");
videoName.set("9","Fast_Furious_7_Plane_Scene");
videoName.set("10","Final Race of Milkha Singh Career [360p]");
videoName.set("11","First Day Of My Life");
videoName.set("12","friendly");
videoName.set("13","FunAlaBarfi_1");
videoName.set("14","funTamma_1");
videoName.set("15","hateful1");
videoName.set("16","hate_lbs");
videoName.set("17","horror");
videoName.set("18","How To Fight Loneliness");
videoName.set("19","I'm Yours");
videoName.set("20","joyKolaveri_1");
videoName.set("21","loveNashe_1");
videoName.set("22","Madari movie of best scene [360p]");
videoName.set("23","MASOOM");
videoName.set("24","Milkha Visits His Village in Pakistan [360p]");
videoName.set("25","peaceful2");
videoName.set("26","SaddaHaq_1");
videoName.set("27","The_Champ_1979_Death_Final_Ending_Scene_VERY_SAD");
videoName.set("28","The Weight Of My Words");
videoName.set("29","Titanic_2012_Sinking_Scene_HD_720p");
videoName.set("30","Titanic_Movie_Crash_Scene");

$('#submit').click(function(){
    console.log(videoNo);
    console.log(count);
    var recordId = localStorage.getItem("recordid");
    var valence=document.getElementById("valenceSlider").value;
    var arousal=document.getElementById("arousalSlider").value;
    var dominance=document.getElementById("dominanceSlider").value;
    var liking=document.getElementById("likingSlider").value;
    var relevance=document.getElementById("relevanceSlider").value;
    var familiarity=document.getElementById("familiaritySlider").value;
    var emotion=$("#emotions option:selected").text();
    var timeStamps=JSON.parse(localStorage.getItem("timeStamps"));
    timeStamps=timeStamps.join();
    if(emotion=="No Emotion From List"){
        emotion=document.getElementById("emotionTypeText").value;
    }
    var video=videoName.get(videoNo);
    console.log(video)
    // var success = 0;
    if(count == 1){
    base('dataset').update(recordId, {
    "video1" : video,
    "timestamp1" : timeStamps,
    "arousal1" : arousal,
    "valence1" : valence,
    "dominance1" : dominance,
    "liking1" : liking,
    "relevance1" : relevance,
    "familiarity1" : familiarity,
    "emotion1" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="view.html";
    });
    }else if(count == 2){
    base('dataset').update(recordId, {
    "video2" : video,
    "timestamp2" : timeStamps,
    "arousal2" : arousal,
    "valence2" : valence,
    "dominance2" : dominance,
    "liking2" : liking,
    "relevance2" : relevance,
    "familiarity2" : familiarity,
    "emotion2" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="view.html";
    });
    }else if(count == 3){
    base('dataset').update(recordId, {
    "video3" : video,
    "timestamp3" : timeStamps,
    "arousal3" : arousal,
    "valence3" : valence,
    "dominance3" : dominance,
    "liking3" : liking,
    "relevance3" : relevance,
    "familiarity3" : familiarity,
    "emotion3" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="view.html";
    });
    }else if(count == 4){
    base('dataset').update(recordId, {
    "video4" : video,
    "timestamp4" : timeStamps,
    "arousal4" : arousal,
    "valence4" : valence,
    "dominance4" : dominance,
    "liking4" : liking,
    "relevance4" : relevance,
    "familiarity4" : familiarity,
    "emotion4" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="view.html"; 
    });
    }else if(count == 5){
    base('dataset').update(recordId, {
    "video5" : video,
    "timestamp5" : timeStamps,
    "arousal5" : arousal,
    "valence5" : valence,
    "dominance5" : dominance,
    "liking5" : liking,
    "relevance5" : relevance,
    "familarity5" : familiarity,
    "emotion5" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="finish.html";
    });
    }
    else if(count == 6){
    base('dataset').update(recordId, {
    "video6" : video,
    "timestamp6" : timeStamps,
    "arousal6" : arousal,
    "valence6" : valence,
    "dominance6" : dominance,
    "liking6" : liking,
    "relevance6" : relevance,
    "familarity6" : familiarity,
    "emotion6" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="view.html";
    });
    }
    else if(count == 7){
    base('dataset').update(recordId, {
    "video7" : video,
    "timestamp7" : timeStamps,
    "arousal7" : arousal,
    "valence7" : valence,
    "dominance7" : dominance,
    "liking7" : liking,
    "relevance7" : relevance,
    "familarity7" : familiarity,
    "emotion7" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="view.html";
    });
    }
    else if(count == 8){
    base('dataset').update(recordId, {
    "video8" : video,
    "timestamp8" : timeStamps,
    "arousal8" : arousal,
    "valence8" : valence,
    "dominance8" : dominance,
    "liking8" : liking,
    "relevance8" : relevance,
    "familarity8" : familiarity,
    "emotion8" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="view.html";
    });
    }
    else if(count == 9){
    base('dataset').update(recordId, {
    "video9" : video,
    "timestamp9" : timeStamps,
    "arousal9" : arousal,
    "valence9" : valence,
    "dominance9" : dominance,
    "liking9" : liking,
    "relevance9" : relevance,
    "familarity9" : familiarity,
    "emotion9" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="view.html";
    });
    }
    else if(count == 10){
    base('dataset').update(recordId, {
    "video10" : video,
    "timestamp10" : timeStamps,
    "arousal10" : arousal,
    "valence10" : valence,
    "dominance10" : dominance,
    "liking10" : liking,
    "relevance10" : relevance,
    "familarity10" : familiarity,
    "emotion10" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="finish.html";
    });
    }
    else if(count == 11){
    base('dataset').update(recordId, {
    "video11" : video,
    "timestamp11" : timeStamps,
    "arousal11" : arousal,
    "valence11" : valence,
    "dominance11" : dominance,
    "liking11" : liking,
    "relevance11" : relevance,
    "familarity11" : familiarity,
    "emotion11" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="view.html";
    });
    }
    else if(count == 12){
    base('dataset').update(recordId, {
    "video12" : video,
    "timestamp12" : timeStamps,
    "arousal12" : arousal,
    "valence12" : valence,
    "dominance12" : dominance,
    "liking12" : liking,
    "relevance12" : relevance,
    "familarity12" : familiarity,
    "emotion12" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="view.html";
    });
    }
    else if(count == 13){
    base('dataset').update(recordId, {
    "video13" : video,
    "timestamp13" : timeStamps,
    "arousal13" : arousal,
    "valence13" : valence,
    "dominance13" : dominance,
    "liking13" : liking,
    "relevance13" : relevance,
    "familarity13" : familiarity,
    "emotion13" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="view.html";
    });
    }
    else if(count == 14){
    base('dataset').update(recordId, {
    "video14" : video,
    "timestamp14" : timeStamps,
    "arousal14" : arousal,
    "valence14" : valence,
    "dominance14" : dominance,
    "liking14" : liking,
    "relevance14" : relevance,
    "familarity14" : familiarity,
    "emotion14" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="view.html";
    });
    }
    else if(count == 15){
    base('dataset').update(recordId, {
    "video15" : video,
    "timestamp15" : timeStamps,
    "arousal15" : arousal,
    "valence15" : valence,
    "dominance15" : dominance,
    "liking15" : liking,
    "relevance15" : relevance,
    "familarity15" : familiarity,
    "emotion15" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="view.html";
    });
    }
    else if(count == 16){
    base('dataset').update(recordId, {
    "video16" : video,
    "timestamp16" : timeStamps,
    "arousal16" : arousal,
    "valence16" : valence,
    "dominance16" : dominance,
    "liking16" : liking,
    "relevance16" : relevance,
    "familarity16" : familiarity,
    "emotion16" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="view.html";
    });
    }
    else if(count == 17){
    base('dataset').update(recordId, {
    "video17" : video,
    "timestamp17" : timeStamps,
    "arousal17" : arousal,
    "valence17" : valence,
    "dominance17" : dominance,
    "liking17" : liking,
    "relevance17" : relevance,
    "familarity17" : familiarity,
    "emotion17" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="view.html";
    });
    }
    else if(count == 18){
    base('dataset').update(recordId, {
    "video18" : video,
    "timestamp18" : timeStamps,
    "arousal18" : arousal,
    "valence18" : valence,
    "dominance18" : dominance,
    "liking18" : liking,
    "relevance18" : relevance,
    "familarity18" : familiarity,
    "emotion18" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="view.html";
    });
    }
    else if(count == 19){
    base('dataset').update(recordId, {
    "video19" : video,
    "timestamp19" : timeStamps,
    "arousal19" : arousal,
    "valence19" : valence,
    "dominance19" : dominance,
    "liking19" : liking,
    "relevance19" : relevance,
    "familarity19" : familiarity,
    "emotion19" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="view.html";
    });
    }
    else if(count == 20){
    base('dataset').update(recordId, {
    "video20" : video,
    "timestamp20" : timeStamps,
    "arousal20" : arousal,
    "valence20" : valence,
    "dominance20" : dominance,
    "liking20" : liking,
    "relevance20" : relevance,
    "familarity20" : familiarity,
    "emotion20" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="view.html";
    });
    }
    else if(count == 21){
    base('dataset').update(recordId, {
    "video21" : video,
    "timestamp21" : timeStamps,
    "arousal21" : arousal,
    "valence21" : valence,
    "dominance21" : dominance,
    "liking21" : liking,
    "relevance21" : relevance,
    "familarity21" : familiarity,
    "emotion21" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="view.html";
    });
    }
    else if(count == 22){
    base('dataset').update(recordId, {
    "video22" : video,
    "timestamp22" : timeStamps,
    "arousal22" : arousal,
    "valence22" : valence,
    "dominance22" : dominance,
    "liking22" : liking,
    "relevance22" : relevance,
    "familarity22" : familiarity,
    "emotion22" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="view.html";
    });
    }
    else if(count == 23){
    base('dataset').update(recordId, {
    "video23" : video,
    "timestamp23" : timeStamps,
    "arousal23" : arousal,
    "valence23" : valence,
    "dominance23" : dominance,
    "liking23" : liking,
    "relevance23" : relevance,
    "familarity23" : familiarity,
    "emotion23" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="view.html";
    });
    }
    else if(count == 24){
    base('dataset').update(recordId, {
    "video24" : video,
    "timestamp24" : timeStamps,
    "arousal24" : arousal,
    "valence24" : valence,
    "dominance24" : dominance,
    "liking24" : liking,
    "relevance24" : relevance,
    "familarity24" : familiarity,
    "emotion24" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="view.html";
    });
    }
    else if(count == 25){
    base('dataset').update(recordId, {
    "video25" : video,
    "timestamp25" : timeStamps,
    "arousal25" : arousal,
    "valence25" : valence,
    "dominance25" : dominance,
    "liking25" : liking,
    "relevance25" : relevance,
    "familarity25" : familiarity,
    "emotion25" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="view.html";
    });
    }
    else if(count == 26){
    base('dataset').update(recordId, {
    "video26" : video,
    "timestamp26" : timeStamps,
    "arousal26" : arousal,
    "valence26" : valence,
    "dominance26" : dominance,
    "liking26" : liking,
    "relevance26" : relevance,
    "familarity26" : familiarity,
    "emotion26" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="view.html";
    });
    }
    else if(count == 27){
    base('dataset').update(recordId, {
    "video27" : video,
    "timestamp27" : timeStamps,
    "arousal27" : arousal,
    "valence27" : valence,
    "dominance27" : dominance,
    "liking27" : liking,
    "relevance27" : relevance,
    "familarity27" : familiarity,
    "emotion27" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="view.html";
    });
    }
    else if(count == 28){
    base('dataset').update(recordId, {
    "video28" : video,
    "timestamp28" : timeStamps,
    "arousal28" : arousal,
    "valence28" : valence,
    "dominance28" : dominance,
    "liking28" : liking,
    "relevance28" : relevance,
    "familarity28" : familiarity,
    "emotion28" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="view.html";
    });
    }
    else if(count == 29){
    base('dataset').update(recordId, {
    "video29" : video,
    "timestamp29" : timeStamps,
    "arousal29" : arousal,
    "valence29" : valence,
    "dominance29" : dominance,
    "liking29" : liking,
    "relevance29" : relevance,
    "familarity29" : familiarity,
    "emotion29" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="view.html";
    });
    }
    else if(count == 30){
    base('dataset').update(recordId, {
    "video30" : video,
    "timestamp30" : timeStamps,
    "arousal30" : arousal,
    "valence30" : valence,
    "dominance30" : dominance,
    "liking30" : liking,
    "relevance30" : relevance,
    "familarity30" : familiarity,
    "emotion30" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="finish.html";
    });
    }

});
if(count > 5){
    $("#finish").removeAttr('disabled');
    $("#finish").click(function(){
        var recordId = localStorage.getItem("recordid");
    var valence=document.getElementById("valenceSlider").value;
    var arousal=document.getElementById("arousalSlider").value;
    var dominance=document.getElementById("dominanceSlider").value;
    var liking=document.getElementById("likingSlider").value;
    var relevance=document.getElementById("relevanceSlider").value;
    var familiarity=document.getElementById("familiaritySlider").value;
    var emotion=$("#emotions option:selected").text();
    var timeStamps=JSON.parse(localStorage.getItem("timeStamps"));
    timeStamps=timeStamps.join();
    var video=videoName.get(videoNo);
        if(count == 11){
    base('dataset').update(recordId, {
    "video11" : video,
    "timestamp1" : timeStamps,
    "arousal11" : arousal,
    "valence11" : valence,
    "dominance11" : dominance,
    "liking11" : liking,
    "relevance11" : relevance,
    "familarity11" : familiarity,
    "emotion11" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="finish.html";
    });
    }
    else if(count == 12){
    base('dataset').update(recordId, {
    "video12" : video,
    "timestamp1" : timeStamps,
    "arousal12" : arousal,
    "valence12" : valence,
    "dominance12" : dominance,
    "liking12" : liking,
    "relevance12" : relevance,
    "familarity12" : familiarity,
    "emotion12" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="finish.html";
    });
    }
    else if(count == 13){
    base('dataset').update(recordId, {
    "video13" : video,
    "timestamp1" : timeStamps,
    "arousal13" : arousal,
    "valence13" : valence,
    "dominance13" : dominance,
    "liking13" : liking,
    "relevance13" : relevance,
    "familarity13" : familiarity,
    "emotion13" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="finish.html";
    });
    }
    else if(count == 14){
    base('dataset').update(recordId, {
    "video14" : video,
    "timestamp1" : timeStamps,
    "arousal14" : arousal,
    "valence14" : valence,
    "dominance14" : dominance,
    "liking14" : liking,
    "relevance14" : relevance,
    "familarity14" : familiarity,
    "emotion14" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="finish.html";
    });
    }
    else if(count == 15){
    base('dataset').update(recordId, {
    "video15" : video,
    "timestamp1" : timeStamps,
    "arousal15" : arousal,
    "valence15" : valence,
    "dominance15" : dominance,
    "liking15" : liking,
    "relevance15" : relevance,
    "familarity15" : familiarity,
    "emotion15" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="finish.html";
    });
    }
    else if(count == 16){
    base('dataset').update(recordId, {
    "video16" : video,
    "timestamp1" : timeStamps,
    "arousal16" : arousal,
    "valence16" : valence,
    "dominance16" : dominance,
    "liking16" : liking,
    "relevance16" : relevance,
    "familarity16" : familiarity,
    "emotion16" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="finish.html";
    });
    }
    else if(count == 17){
    base('dataset').update(recordId, {
    "video17" : video,
    "timestamp1" : timeStamps,
    "arousal17" : arousal,
    "valence17" : valence,
    "dominance17" : dominance,
    "liking17" : liking,
    "relevance17" : relevance,
    "familarity17" : familiarity,
    "emotion17" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="finish.html";
    });
    }
    else if(count == 18){
    base('dataset').update(recordId, {
    "video18" : video,
    "timestamp1" : timeStamps,
    "arousal18" : arousal,
    "valence18" : valence,
    "dominance18" : dominance,
    "liking18" : liking,
    "relevance18" : relevance,
    "familarity18" : familiarity,
    "emotion18" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="finish.html";
    });
    }
    else if(count == 19){
    base('dataset').update(recordId, {
    "video19" : video,
    "timestamp1" : timeStamps,
    "arousal19" : arousal,
    "valence19" : valence,
    "dominance19" : dominance,
    "liking19" : liking,
    "relevance19" : relevance,
    "familarity19" : familiarity,
    "emotion19" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="finish.html";
    });
    }
    else if(count == 20){
    base('dataset').update(recordId, {
    "video20" : video,
    "timestamp1" : timeStamps,
    "arousal20" : arousal,
    "valence20" : valence,
    "dominance20" : dominance,
    "liking20" : liking,
    "relevance20" : relevance,
    "familarity20" : familiarity,
    "emotion20" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="finish.html";
    });
    }
    else if(count == 21){
    base('dataset').update(recordId, {
    "video21" : video,
    "timestamp1" : timeStamps,
    "arousal21" : arousal,
    "valence21" : valence,
    "dominance21" : dominance,
    "liking21" : liking,
    "relevance21" : relevance,
    "familarity21" : familiarity,
    "emotion21" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="finish.html";
    });
    }
    else if(count == 22){
    base('dataset').update(recordId, {
    "video22" : video,
    "timestamp1" : timeStamps,
    "arousal22" : arousal,
    "valence22" : valence,
    "dominance22" : dominance,
    "liking22" : liking,
    "relevance22" : relevance,
    "familarity22" : familiarity,
    "emotion22" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="finish.html";
    });
    }
    else if(count == 23){
    base('dataset').update(recordId, {
    "video23" : video,
    "timestamp1" : timeStamps,
    "arousal23" : arousal,
    "valence23" : valence,
    "dominance23" : dominance,
    "liking23" : liking,
    "relevance23" : relevance,
    "familarity23" : familiarity,
    "emotion23" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="finish.html";
    });
    }
    else if(count == 24){
    base('dataset').update(recordId, {
    "video24" : video,
    "timestamp1" : timeStamps,
    "arousal24" : arousal,
    "valence24" : valence,
    "dominance24" : dominance,
    "liking24" : liking,
    "relevance24" : relevance,
    "familarity24" : familiarity,
    "emotion24" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="finish.html";
    });
    }
    else if(count == 25){
    base('dataset').update(recordId, {
    "video25" : video,
    "timestamp1" : timeStamps,
    "arousal25" : arousal,
    "valence25" : valence,
    "dominance25" : dominance,
    "liking25" : liking,
    "relevance25" : relevance,
    "familarity25" : familiarity,
    "emotion25" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="finish.html";
    });
    }
    else if(count == 26){
    base('dataset').update(recordId, {
    "video26" : video,
    "timestamp1" : timeStamps,
    "arousal26" : arousal,
    "valence26" : valence,
    "dominance26" : dominance,
    "liking26" : liking,
    "relevance26" : relevance,
    "familarity26" : familiarity,
    "emotion26" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="finish.html";
    });
    }
    else if(count == 27){
    base('dataset').update(recordId, {
    "video27" : video,
    "timestamp1" : timeStamps,
    "arousal27" : arousal,
    "valence27" : valence,
    "dominance27" : dominance,
    "liking27" : liking,
    "relevance27" : relevance,
    "familarity27" : familiarity,
    "emotion27" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="finish.html";
    });
    }
    else if(count == 28){
    base('dataset').update(recordId, {
    "video28" : video,
    "timestamp1" : timeStamps,
    "arousal28" : arousal,
    "valence28" : valence,
    "dominance28" : dominance,
    "liking28" : liking,
    "relevance28" : relevance,
    "familarity28" : familiarity,
    "emotion28" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="finish.html";
    });
    }
    else if(count == 29){
    base('dataset').update(recordId, {
    "video29" : video,
    "timestamp1" : timeStamps,
    "arousal29" : arousal,
    "valence29" : valence,
    "dominance29" : dominance,
    "liking29" : liking,
    "relevance29" : relevance,
    "familarity29" : familiarity,
    "emotion29" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="finish.html";
    });
    }
    else if(count == 30){
    base('dataset').update(recordId, {
    "video30" : video,
    "timestamp1" : timeStamps,
    "arousal30" : arousal,
    "valence30" : valence,
    "dominance30" : dominance,
    "liking30" : liking,
    "relevance30" : relevance,
    "familarity30" : familiarity,
    "emotion30" : emotion 
}, function(err, record) {
    if (err) { console.error(err); return; }
    console.log("Done");
    window.location.href ="finish.html";
    });
    }
    });
}

</script>
<!-- Slider JS -->
<script> 
var arousal = document.getElementById("arousalSlider");
var arousalOutput = document.getElementById("arousal");
var valence = document.getElementById("valenceSlider");
var valenceOutput = document.getElementById("valence");
var arousalValue=arousal.value
var valenceValue=valence.value;
arousalOutput.innerHTML = arousal.value; // Display the default slider value

// Update the current slider value (each time you drag the slider handle)
arousal.oninput = function() {
  arousalOutput.innerHTML = this.value;
  arousalValue=this.value;
  if(valenceValue >5 && arousalValue>5){
        $("#emotions").html('<option>"Happy: Feeling or showing pleasure or contentment" </option><option> "Delighted: Feeling or showing great pleasure"</option><option> "Excited: Very enthusiastic and eager"</option><option>"Aroused: Sexually excited" </option><option> "Triumphant: Feeling or expressing jubilation after a victory or achievement"</option><option>"Amused: Finding something funny or entertaining." </option><option> "Passionate: Arising from intense feelings of sexual love."</option><option>"Joyous: Full of happiness and joy" </option><option>"Lust: Strong sexual desire." </option><option> "Adventorous: Willing to take risks or to try out new methods, ideas, or experiences"</option><option>No Emotion From List </option>')
    }else if(valenceValue >5 && arousalValue<=5){
        $('#emotions').html('<option>"Pensive: Engaged in, involving, or reflecting deep or serious thought."</option><option>"Love: An intense feeling of deep affection."</option><option>"Pleased: Feeling or showing pleasure and satisfaction, especially at an event or a situation"</option><option>"Contented: Feeling or expressing happiness or satisfaction"</option><option>"Contented: Feeling or expressing happiness or satisfaction"</option><option>"Calm: Not showing or feeling nervousness, anger, or other strong emotions"</option>< option> "Peaceful: Free from disturbance, tranquil."</option><option>"Relaxed: Free from tension and anxiety"</option><option>"Hopeful: Feeling or inspiring optimism about a future event."</option><option>"Compassionate: Feeling or showing sympathy and concern for others."</option><option>No Emotion From List</option>')
    }
    else if(valenceValue <=5 && arousalValue>5){
        $("#emotions").html('<option>"Alarmed: An anxious awareness of danger"</option><option>"Tense: Become tense, typically through anxiety or nervousness"</option><option>"Angry: Feeling or showing strong annoyance, displeasure, or hostility, full of anger"</option><option>"Afraid: Worried that something undesirable will occur or be done"</option><option>"Distress: Suffering from extreme anxiety, sorrow, or pain"</option><option>"Frustrated: Feeling or expressing distress and annoyance resulting from an inability to change or achieve something"</option><option>"Disgust: A feeling of revulsion or strong disapproval aroused by something unpleasant or offensive"</option><option>"Distrustful: Feeling or showing distrust of someone or something."</option><option>"Hate: Have a strong aversion to (something)"</option><option>"Startled: Feeling or showing sudden shock or alarm."</option><option>No Emotion From List</option>')
    }else if(valenceValue<=5 && arousalValue<=5){
        $("#emotions").html('<option>"Miserable: wretchedly unhappy or uncomfortable"</option><option>"Melancholic: Feeling or expressing pensive sadness"</option><option>"Sad: Feeling or showing sorrow, unhappy"</option><option>"Depressed: in a state of unhappiness or despondency"</option><option>"Dissatisfied: Not content or happy with something."</option><option>"Despondent: In low spirits from loss of hope or courage."</option><option>"Taken Aback: Shock or surprise someone."</option><option>No Emotion From List</option>');
    }
}

valenceOutput.innerHTML = valence.value; // Display the default slider value


// Update the current slider value (each time you drag the slider handle)
valence.oninput = function() {
  valenceOutput.innerHTML = this.value;
  valenceValue=this.value;
    if(valenceValue >5 && arousalValue>5){
        $("#emotions").html('<option>"Happy: Feeling or showing pleasure or contentment" </option><option> "Delighted: Feeling or showing great pleasure"</option><option> "Excited: Very enthusiastic and eager"</option><option>"Aroused: Sexually excited" </option><option> "Triumphant: Feeling or expressing jubilation after a victory or achievement"</option><option>"Amused: Finding something funny or entertaining." </option><option> "Passionate: Arising from intense feelings of sexual love."</option><option>"Joyous: Full of happiness and joy" </option><option>"Lust: Strong sexual desire." </option><option> "Adventorous: Willing to take risks or to try out new methods, ideas, or experiences"</option><option>No Emotion From List </option>')
    }else if(valenceValue >5 && arousalValue<=5){
        $('#emotions').html('<option>"Pensive: Engaged in, involving, or reflecting deep or serious thought."</option><option>"Love: An intense feeling of deep affection."</option><option>"Pleased: Feeling or showing pleasure and satisfaction, especially at an event or a situation"</option><option>"Contented: Feeling or expressing happiness or satisfaction"</option><option>"Contented: Feeling or expressing happiness or satisfaction"</option><option>"Calm: Not showing or feeling nervousness, anger, or other strong emotions"</option>< option> "Peaceful: Free from disturbance, tranquil."</option><option>"Relaxed: Free from tension and anxiety"</option><option>"Hopeful: Feeling or inspiring optimism about a future event."</option><option>"Compassionate: Feeling or showing sympathy and concern for others."</option><option>No Emotion From List</option>')
    }
    else if(valenceValue <=5 && arousalValue>5){
        $("#emotions").html('<option>"Alarmed: An anxious awareness of danger"</option><option>"Tense: Become tense, typically through anxiety or nervousness"</option><option>"Angry: Feeling or showing strong annoyance, displeasure, or hostility, full of anger"</option><option>"Afraid: Worried that something undesirable will occur or be done"</option><option>"Distress: Suffering from extreme anxiety, sorrow, or pain"</option><option>"Frustrated: Feeling or expressing distress and annoyance resulting from an inability to change or achieve something"</option><option>"Disgust: A feeling of revulsion or strong disapproval aroused by something unpleasant or offensive"</option><option>"Distrustful: Feeling or showing distrust of someone or something."</option><option>"Hate: Have a strong aversion to (something)"</option><option>"Startled: Feeling or showing sudden shock or alarm."</option><option>No Emotion From List</option>')
    }else if(valenceValue<=5 && arousalValue<=5){
        $("#emotions").html('<option>"Miserable: wretchedly unhappy or uncomfortable"</option><option>"Melancholic: Feeling or expressing pensive sadness"</option><option>"Sad: Feeling or showing sorrow, unhappy"</option><option>"Depressed: in a state of unhappiness or despondency"</option><option>"Dissatisfied: Not content or happy with something."</option><option>"Despondent: In low spirits from loss of hope or courage."</option><option>"Taken Aback: Shock or surprise someone."</option><option>No Emotion From List</option>');
    }
}
var emotion = document.getElementById("emotions");

emotion.oninput = function() { 
    console.log(this.options[this.selectedIndex].text)
    emotionText=this.options[this.selectedIndex].text
    if(emotionText=="No Emotion From List"){
        console.log("Text box should be displayed")
        $("#emotionType").show(300);
    }else{
        $('#emotionType').hide(300);
    }
}
var dominance = document.getElementById("dominanceSlider");
var dominanceOutput = document.getElementById("dominance");
dominanceOutput.innerHTML = dominance.value; // Display the default slider value

// Update the current slider value (each time you drag the slider handle)
dominance.oninput = function() {
  dominanceOutput.innerHTML = this.value;
}
var liking = document.getElementById("likingSlider");
var likingOutput = document.getElementById("liking");
likingOutput.innerHTML = liking.value; // Display the default slider value

// Update the current slider value (each time you drag the slider handle)
liking.oninput = function() {
  likingOutput.innerHTML = this.value;
}
var relevance = document.getElementById("relevanceSlider");
var relevanceOutput = document.getElementById("relevance");
relevanceOutput.innerHTML = relevance.value; // Display the default slider value

// Update the current slider value (each time you drag the slider handle)
relevance.oninput = function() {
  relevanceOutput.innerHTML = this.value;
}
var familiarity = document.getElementById("familiaritySlider");
var familiarityOutput = document.getElementById("familiarity");
familiarityOutput.innerHTML = familiarity.value; // Display the default slider value

// Update the current slider value (each time you drag the slider handle)
familiarity.oninput = function() {
  familiarityOutput.innerHTML = this.value;
}
</script>

</html>
